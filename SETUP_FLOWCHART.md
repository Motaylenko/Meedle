# Setup.bat - Блок-схема

```
                    ┌─────────────────────┐
                    │   Запуск setup.bat  │
                    └──────────┬──────────┘
                               │
                    ┌──────────▼──────────┐
                    │  Показати меню:     │
                    │  [1] Docker         │
                    │  [2] Local          │
                    └──────────┬──────────┘
                               │
                ┌──────────────┴──────────────┐
                │                             │
    ┌───────────▼──────────┐      ┌──────────▼───────────┐
    │  Вибір 1: Docker     │      │  Вибір 2: Local      │
    └───────────┬──────────┘      └──────────┬───────────┘
                │                             │
    ┌───────────▼──────────┐      ┌──────────▼───────────┐
    │ Перевірка Docker     │      │ Перевірка Node.js    │
    │ docker --version     │      │ node --version       │
    └───────────┬──────────┘      └──────────┬───────────┘
                │                             │
         ┌──────┴──────┐              ┌──────┴──────┐
         │ Є?          │              │ Є?          │
         └──┬───────┬──┘              └──┬───────┬──┘
            │       │                    │       │
          Ні│       │Так               Ні│       │Так
            │       │                    │       │
    ┌───────▼─┐   ┌─▼────────────┐  ┌───▼────┐ ┌▼──────────────┐
    │ ERROR:  │   │ Показати     │  │ ERROR: │ │ Показати      │
    │ Install │   │ версію       │  │Install │ │ версію        │
    │ Docker  │   └─┬────────────┘  │Node.js │ └┬──────────────┘
    └─────────┘     │               └────────┘  │
                    │                            │
         ┌──────────▼──────────┐      ┌─────────▼──────────┐
         │ [1/2] Pull images:  │      │ [1/2] Backend:     │
         │ - node:18-alpine    │      │ cd backend         │
         │ - postgres:15-alpine│      │ npm install        │
         └──────────┬──────────┘      └─────────┬──────────┘
                    │                            │
         ┌──────────▼──────────┐      ┌─────────▼──────────┐
         │ [2/2] Build:        │      │ [2/2] Frontend:    │
         │ docker compose build│      │ cd frontend        │
         └──────────┬──────────┘      │ npm install        │
                    │                 └─────────┬──────────┘
                    │                            │
         ┌──────────▼──────────┐      ┌─────────▼──────────┐
         │ ✅ Docker Setup     │      │ ✅ Local Setup     │
         │    Complete!        │      │    Complete!       │
         │                     │      │                    │
         │ Next:               │      │ Next:              │
         │ - start.bat         │      │ - start.bat (Docker)│
         │ - http://localhost  │      │ - або вручну       │
         │   :3000             │      │   npm run dev      │
         └─────────────────────┘      └────────────────────┘
```

## Детальний потік для Docker (Опція 1)

```
setup.bat
    │
    ├─► Показати меню
    │
    ├─► Користувач обирає [1]
    │
    ├─► Перевірка: docker --version
    │   │
    │   ├─► Якщо немає Docker:
    │   │   └─► Показати помилку + посилання на завантаження
    │   │       └─► EXIT
    │   │
    │   └─► Якщо є Docker:
    │       └─► Показати версію Docker
    │
    ├─► [1/2] Завантаження образів
    │   ├─► docker pull node:18-alpine
    │   └─► docker pull postgres:15-alpine
    │   │
    │   └─► Якщо помилка:
    │       └─► Перевірити інтернет → EXIT
    │
    ├─► [2/2] Збірка контейнерів
    │   └─► docker compose build
    │   │
    │   └─► Якщо помилка:
    │       └─► Показати помилку → EXIT
    │
    └─► ✅ Успіх!
        └─► Показати інструкції:
            - Запустити start.bat
            - URL: http://localhost:3000
            - Команди: start.bat, stop.bat
```

## Детальний потік для Local (Опція 2)

```
setup.bat
    │
    ├─► Показати меню
    │
    ├─► Користувач обирає [2]
    │
    ├─► Перевірка: node --version
    │   │
    │   ├─► Якщо немає Node.js:
    │   │   └─► Показати помилку + посилання на завантаження
    │   │       └─► EXIT
    │   │
    │   └─► Якщо є Node.js:
    │       └─► Показати версію Node.js
    │
    ├─► [1/2] Backend залежності
    │   ├─► cd backend
    │   ├─► npm install
    │   └─► cd ..
    │   │
    │   └─► Якщо помилка:
    │       └─► Показати помилку → EXIT
    │
    ├─► [2/2] Frontend залежності
    │   ├─► cd frontend
    │   ├─► npm install
    │   └─► cd ..
    │   │
    │   └─► Якщо помилка:
    │       └─► Показати помилку → EXIT
    │
    └─► ✅ Успіх!
        └─► Показати інструкції:
            - Запустити start.bat (Docker)
            - Або вручну: npm run dev
            - Або використати start.ps1
```

## Коди виходу

| Код | Значення |
|-----|----------|
| 0   | Успішне завершення |
| 1   | Помилка (Docker/Node.js не знайдено, помилка встановлення) |

## Використання choice команди

```batch
choice /C 12 /N /M "Enter your choice (1 or 2): "
set SETUP_CHOICE=%ERRORLEVEL%
```

- `/C 12` - дозволені варіанти: 1 або 2
- `/N` - не показувати варіанти автоматично
- `/M` - текст повідомлення
- `%ERRORLEVEL%` - містить вибір користувача (1 або 2)
